---
title: "docker 使用笔记"
date: 2019-01-25T16:00:00.000Z
slug: docker-
categories: []
tags: []
summary: "docker 使用笔记 容器操作 查看所有容器列表 docker ps -a 移除容器（可移除多个） docker rmi CONTAINER_ID CONTAINER_ID 与宿主机之间拷贝文件 docker cp test.html CONTAINER_ID:/usr/local/tomcat/webapps/ROOT 获取id全称 docker inspect -f '{{.Id}}' CO..."
originUrl: "https://www.cnblogs.com/bigroc/p/10322631.html"
---

# docker 使用笔记

## 容器操作

1.  查看所有容器列表  
    `docker ps -a`
2.  移除容器（可移除多个）  
    `docker rmi CONTAINER_ID CONTAINER_ID`
3.  与宿主机之间拷贝文件  
    `docker cp test.html CONTAINER_ID:/usr/local/tomcat/webapps/ROOT`
4.  获取id全称  
    `docker inspect -f '{{.Id}}' CONTAINER_ID`
5.  进入容器内部  
    `docker exec -it CONTAINER_ID /bin/sh`
6.  查看日志  
    `docker logs -f CONTAINER_ID`
7.  查看指定时间后的日志，只显示最后100行  
    `docker logs -f -t --since="2018-02-08" --tail=100 CONTAINER_ID`
8.  容器日志路径查看  
    `docker inspect --format='{{.LogPath}}' CONTAINER_ID`
9.  查询环境变量  
    `docker inspect -f '{{range .Config.Env}}{{println .}}{{end}}' <容器名称或ID>`
10.  查询包含 `my_container` 的容器  
     `docker ps -f "name=my_container"`

## 构建发布

1.  构建镜像  
    `待完善.... 推荐使用dockerFile`
2.  构建 tag  
    `docker tag aaa harbor.bigroc.cn/test/aaa:v1.0.0`
3.  推送到远程仓库  
    `docker push harbor.bigroc.cn/test/aaa:v1.0.0`